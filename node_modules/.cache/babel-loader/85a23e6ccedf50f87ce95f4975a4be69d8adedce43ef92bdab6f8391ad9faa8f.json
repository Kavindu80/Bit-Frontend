{"ast":null,"code":"import{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{ArrowLeft,Search,Trash2}from'lucide-react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Manage=()=>{const navigate=useNavigate();const[students,setStudents]=useState([]);const[filteredStudents,setFilteredStudents]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[groupFilter,setGroupFilter]=useState('');// Fetch students function\nconst fetchStudents=async()=>{try{const response=await axios.get('${process.env.REACT_APP_API_BASE_URL}/api/students');setStudents(response.data.data);setFilteredStudents(response.data.data);setLoading(false);}catch(error){setError('Failed to fetch students');setLoading(false);}};// Initial fetch on component mount\nuseEffect(()=>{fetchStudents();},[]);// Filter students by group number\nuseEffect(()=>{if(groupFilter){const filtered=students.filter(student=>student.groupNumber.toLowerCase().includes(groupFilter.toLowerCase()));setFilteredStudents(filtered);}else{setFilteredStudents(students);}},[groupFilter,students]);// Delete student handler\nconst handleDeleteStudent=async studentId=>{const confirmDelete=window.confirm('Are you sure you want to delete this student?');if(confirmDelete){try{await axios.delete(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/api/students/\").concat(studentId));fetchStudents();alert('Student deleted successfully');}catch(error){console.error('Failed to delete student',error);alert('Failed to delete student');}}};// Handle back navigation\nconst handleGoBack=()=>{navigate(-1);// Goes back to the previous page\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleGoBack,className:\"flex items-center text-gray-700 hover:text-gray-900 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"mr-2\"}),\" Back\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"absolute left-1/2 transform -translate-x-1/2 text-2xl font-bold text-gray-800\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600\",children:\"Manage Groups\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filter by Group Number\",value:groupFilter,onChange:e=>setGroupFilter(e.target.value),className:\"w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"})]})}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error}):/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white shadow-md rounded-lg\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-transparent bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4\",children:\"Group Number\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4\",children:\"Service ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4\",children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4\",children:\"Workspace Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredStudents.map(student=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 text-center\",children:student.groupNumber}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 text-center\",children:student.serviceId}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 text-center\",children:student.name}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 text-center\",children:student.username}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 text-center\",children:student.workspaceName}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteStudent(student._id),className:\"text-red-500 hover:text-red-700 transition-colors\",title:\"Delete Student\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-5 h-5\"})})})]},student._id))})]}),filteredStudents.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 mt-4\",children:\"No students found matching the group filter.\"})]})]});};export default Manage;","map":{"version":3,"names":["useEffect","useState","useNavigate","ArrowLeft","Search","Trash2","axios","jsx","_jsx","jsxs","_jsxs","Manage","navigate","students","setStudents","filteredStudents","setFilteredStudents","loading","setLoading","error","setError","groupFilter","setGroupFilter","fetchStudents","response","get","data","filtered","filter","student","groupNumber","toLowerCase","includes","handleDeleteStudent","studentId","confirmDelete","window","confirm","delete","concat","process","env","REACT_APP_API_BASE_URL","alert","console","handleGoBack","className","children","onClick","type","placeholder","value","onChange","e","target","map","serviceId","name","username","workspaceName","_id","title","length"],"sources":["C:/Users/kavin/Desktop/Azure/Bit-Frontend/src/components/Admin/Manage.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ArrowLeft, Search, Trash2 } from 'lucide-react';\r\nimport axios from 'axios';\r\n\r\nconst Manage = () => {\r\n  const navigate = useNavigate();\r\n  const [students, setStudents] = useState([]);\r\n  const [filteredStudents, setFilteredStudents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [groupFilter, setGroupFilter] = useState('');\r\n\r\n  // Fetch students function\r\n  const fetchStudents = async () => {\r\n    try {\r\n      const response = await axios.get('${process.env.REACT_APP_API_BASE_URL}/api/students');\r\n      setStudents(response.data.data);\r\n      setFilteredStudents(response.data.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError('Failed to fetch students');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Initial fetch on component mount\r\n  useEffect(() => {\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  // Filter students by group number\r\n  useEffect(() => {\r\n    if (groupFilter) {\r\n      const filtered = students.filter(student => \r\n        student.groupNumber.toLowerCase().includes(groupFilter.toLowerCase())\r\n      );\r\n      setFilteredStudents(filtered);\r\n    } else {\r\n      setFilteredStudents(students);\r\n    }\r\n  }, [groupFilter, students]);\r\n\r\n  // Delete student handler\r\n  const handleDeleteStudent = async (studentId) => {\r\n    const confirmDelete = window.confirm('Are you sure you want to delete this student?');\r\n    \r\n    if (confirmDelete) {\r\n      try {\r\n        await axios.delete(`${process.env.REACT_APP_API_BASE_URL}/api/students/${studentId}`);\r\n        fetchStudents();\r\n        alert('Student deleted successfully');\r\n      } catch (error) {\r\n        console.error('Failed to delete student', error);\r\n        alert('Failed to delete student');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle back navigation\r\n  const handleGoBack = () => {\r\n    navigate(-1); // Goes back to the previous page\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-8\">\r\n      <div className=\"relative flex items-center justify-between mb-6\">\r\n        <button \r\n          onClick={handleGoBack}\r\n          className=\"flex items-center text-gray-700 hover:text-gray-900 transition-colors\"\r\n        >\r\n          <ArrowLeft className=\"mr-2\" /> Back\r\n        </button>\r\n        \r\n        <h2 className=\"absolute left-1/2 transform -translate-x-1/2 text-2xl font-bold text-gray-800\">\r\n          <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600\">\r\n            Manage Groups\r\n          </span>\r\n        </h2>\r\n      </div>\r\n\r\n      {/* Group Filter */}\r\n      <div className=\"mb-4 relative\">\r\n        <div className=\"relative\">\r\n          <input \r\n            type=\"text\" \r\n            placeholder=\"Filter by Group Number\"\r\n            value={groupFilter}\r\n            onChange={(e) => setGroupFilter(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <p className=\"text-gray-600\">Loading...</p>\r\n      ) : error ? (\r\n        <p className=\"text-red-500\">{error}</p>\r\n      ) : (\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full bg-white shadow-md rounded-lg\">\r\n            <thead>\r\n              <tr className=\"text-transparent bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white\">\r\n                <th className=\"py-2 px-4\">Group Number</th>\r\n                <th className=\"py-2 px-4\">Service ID</th>\r\n                <th className=\"py-2 px-4\">Name</th>\r\n                <th className=\"py-2 px-4\">Username</th>\r\n                <th className=\"py-2 px-4\">Workspace Name</th>\r\n                <th className=\"py-2 px-4\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredStudents.map((student) => (\r\n                <tr key={student._id} className=\"border-b hover:bg-gray-100\">\r\n                  <td className=\"py-2 px-4 text-center\">{student.groupNumber}</td>\r\n                  <td className=\"py-2 px-4 text-center\">{student.serviceId}</td>\r\n                  <td className=\"py-2 px-4 text-center\">{student.name}</td>\r\n                  <td className=\"py-2 px-4 text-center\">{student.username}</td>\r\n                  <td className=\"py-2 px-4 text-center\">{student.workspaceName}</td>\r\n                  <td className=\"py-2 px-4 text-center\">\r\n                    <button \r\n                      onClick={() => handleDeleteStudent(student._id)}\r\n                      className=\"text-red-500 hover:text-red-700 transition-colors\"\r\n                      title=\"Delete Student\"\r\n                    >\r\n                      <Trash2 className=\"w-5 h-5\" />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n\r\n          {filteredStudents.length === 0 && (\r\n            <p className=\"text-center text-gray-500 mt-4\">\r\n              No students found matching the group filter.\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Manage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}