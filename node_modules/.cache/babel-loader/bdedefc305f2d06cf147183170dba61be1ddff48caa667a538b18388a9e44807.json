{"ast":null,"code":"import Color from '../Color.js';\nimport { type } from '../utils/index.js';\nconst {\n  pow\n} = Math;\nconst EPS = 1e-7;\nconst MAX_ITER = 20;\nColor.prototype.luminance = function (lum) {\n  let mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'rgb';\n  if (lum !== undefined && type(lum) === 'number') {\n    if (lum === 0) {\n      // return pure black\n      return new Color([0, 0, 0, this._rgb[3]], 'rgb');\n    }\n    if (lum === 1) {\n      // return pure white\n      return new Color([255, 255, 255, this._rgb[3]], 'rgb');\n    }\n    // compute new color using...\n    let cur_lum = this.luminance();\n    let max_iter = MAX_ITER;\n    const test = (low, high) => {\n      const mid = low.interpolate(high, 0.5, mode);\n      const lm = mid.luminance();\n      if (Math.abs(lum - lm) < EPS || !max_iter--) {\n        // close enough\n        return mid;\n      }\n      return lm > lum ? test(low, mid) : test(mid, high);\n    };\n    const rgb = (cur_lum > lum ? test(new Color([0, 0, 0]), this) : test(this, new Color([255, 255, 255]))).rgb();\n    return new Color([...rgb, this._rgb[3]]);\n  }\n  return rgb2luminance(...this._rgb.slice(0, 3));\n};\nconst rgb2luminance = (r, g, b) => {\n  // relative luminance\n  // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n  r = luminance_x(r);\n  g = luminance_x(g);\n  b = luminance_x(b);\n  return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n};\nconst luminance_x = x => {\n  x /= 255;\n  return x <= 0.03928 ? x / 12.92 : pow((x + 0.055) / 1.055, 2.4);\n};","map":{"version":3,"names":["Color","type","pow","Math","EPS","MAX_ITER","prototype","luminance","lum","mode","arguments","length","undefined","_rgb","cur_lum","max_iter","test","low","high","mid","interpolate","lm","abs","rgb","rgb2luminance","slice","r","g","b","luminance_x","x"],"sources":["C:/Users/kavin/Desktop/Azure/Bit-Frontend/node_modules/chroma-js/src/ops/luminance.js"],"sourcesContent":["import Color from '../Color.js';\nimport { type } from '../utils/index.js';\nconst { pow } = Math;\n\nconst EPS = 1e-7;\nconst MAX_ITER = 20;\n\nColor.prototype.luminance = function (lum, mode = 'rgb') {\n    if (lum !== undefined && type(lum) === 'number') {\n        if (lum === 0) {\n            // return pure black\n            return new Color([0, 0, 0, this._rgb[3]], 'rgb');\n        }\n        if (lum === 1) {\n            // return pure white\n            return new Color([255, 255, 255, this._rgb[3]], 'rgb');\n        }\n        // compute new color using...\n        let cur_lum = this.luminance();\n        let max_iter = MAX_ITER;\n\n        const test = (low, high) => {\n            const mid = low.interpolate(high, 0.5, mode);\n            const lm = mid.luminance();\n            if (Math.abs(lum - lm) < EPS || !max_iter--) {\n                // close enough\n                return mid;\n            }\n            return lm > lum ? test(low, mid) : test(mid, high);\n        };\n\n        const rgb = (\n            cur_lum > lum\n                ? test(new Color([0, 0, 0]), this)\n                : test(this, new Color([255, 255, 255]))\n        ).rgb();\n        return new Color([...rgb, this._rgb[3]]);\n    }\n    return rgb2luminance(...this._rgb.slice(0, 3));\n};\n\nconst rgb2luminance = (r, g, b) => {\n    // relative luminance\n    // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n    r = luminance_x(r);\n    g = luminance_x(g);\n    b = luminance_x(b);\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n};\n\nconst luminance_x = (x) => {\n    x /= 255;\n    return x <= 0.03928 ? x / 12.92 : pow((x + 0.055) / 1.055, 2.4);\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}